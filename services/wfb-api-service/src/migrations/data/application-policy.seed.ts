import { UUID } from 'bson';

import { _generateAuditFields, _generateBsonUUID } from '../helper';

export const prepareApplicationPolicy = (accountId: UUID) => [
    {
        policyId: _generateBsonUUID(),
        name: 'Default SLA Policy',
        description: 'Default Policy',
        accountId,
        workspaceId: null,
        segmentId: null,
        policyType: 'SLA',
        policyApplicableTo: 'ticket',
        canDelete: false,
        isEnabled: true,
        serviceLevelTargets: [
            {
                severity: 'Urgent',
                respondWithinValue: 1,
                respondWithinUnit: 'Hrs',
                resolveWithinValue: 4,
                resolveWithinUnit: 'Hrs',
                completeWithinValue: null,
                completeWithinUnit: null,
                operationalHours: 'business_hours',
                isEscalationEmailEnabled: false,
            },
            {
                severity: 'High',
                respondWithinValue: 4,
                respondWithinUnit: 'Hrs',
                resolveWithinValue: 12,
                resolveWithinUnit: 'Hrs',
                completeWithinValue: null,
                completeWithinUnit: null,
                operationalHours: 'business_hours',
                isEscalationEmailEnabled: false,
            },
            {
                severity: 'Medium',
                respondWithinValue: 8,
                respondWithinUnit: 'Hrs',
                resolveWithinValue: 24,
                resolveWithinUnit: 'Hrs',
                completeWithinValue: null,
                completeWithinUnit: null,
                operationalHours: 'business_hours',
                isEscalationEmailEnabled: false,
            },
            {
                severity: 'Low',
                respondWithinValue: 24,
                respondWithinUnit: 'Hrs',
                resolveWithinValue: 72,
                resolveWithinUnit: 'Hrs',
                completeWithinValue: null,
                completeWithinUnit: null,
                operationalHours: 'business_hours',
                isEscalationEmailEnabled: false,
            },
        ],
        operationalLevelTargets: [],
        escalationTriggers: [],
        eligibilityConditions: [],
        policyConditionLogic: null,
        ..._generateAuditFields(),
        __v: 0,
    },
    {
        policyId: _generateBsonUUID(),
        name: 'Default OLA Policy',
        description: 'Default Policy',
        accountId,
        workspaceId: null,
        segmentId: null,
        policyType: 'OLA',
        policyApplicableTo: 'task',
        canDelete: false,
        isEnabled: true,
        serviceLevelTargets: [],
        escalationTriggers: [],
        eligibilityConditions: [],
        policyConditionLogic: null,
        operationalLevelTargets: {
            resolveWithinValue: 24,
            resolveWithinUnit: 'Hrs',
            operationalHours: 'business_hours',
        },
        ..._generateAuditFields(),
        __v: 0,
    },
];
